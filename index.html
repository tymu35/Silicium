<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Collection Th.Menu ‚Äî Silicium</title>
  <meta name="description" content="Galerie personnelle de min√©raux (photos & vid√©os) avec statut de disponibilit√© et contact Messenger." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0c0f; --card:#12131a; --muted:#7b8191; --text:#eef1f7; --accent:#5dd6c0; --accent-2:#7aa2ff;
      --ok:#20c997; --warn:#f59f00; --sold:#ef476f; --ring: 0 0 0 3px rgba(122,162,255,.25);
    }
    *{box-sizing:border-box}
    html,body{margin:0; font-family:Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:linear-gradient(180deg,#0a0b0e,#0f1220); color:var(--text)}
    a{color:var(--accent-2); text-decoration:none}
    header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.2) blur(6px); background:rgba(10,11,14,.6); border-bottom:1px solid rgba(255,255,255,.06)}
    .wrap{max-width:1200px; margin:0 auto; padding:20px}
    .topbar{display:flex; align-items:center; gap:16px; justify-content:space-between}
    .brand{display:flex; align-items:center; gap:12px}
    .logo{width:36px; height:36px; border-radius:10px; background:radial-gradient(circle at 30% 30%, #5dd6c0, #7aa2ff 60%, #2d3250); box-shadow:0 8px 30px rgba(93,214,192,.35)}
    h1{font-size:20px; margin:0}
    .cta{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; background:linear-gradient(90deg,var(--accent-2),var(--accent)); border:none; color:#091019; border-radius:12px; font-weight:700; cursor:pointer}
    .cta:hover{transform:translateY(-1px)}
    .toolbar{display:grid; grid-template-columns:1fr 1fr 1fr 1fr; gap:12px; margin-top:14px}
    .tool{background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:12px; padding:10px}
    input[type="search"], select{width:100%; background:transparent; border:none; color:var(--text); outline:none}
    .tool:focus-within{box-shadow:var(--ring); border-color:rgba(122,162,255,.45)}

    main{padding:32px 0}
    .grid{display:grid; gap:18px; grid-template-columns:repeat(1,minmax(0,1fr))}
    @media(min-width:640px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(min-width:980px){.grid{grid-template-columns:repeat(3,minmax(0,1fr))}}

    .card{position:relative; background:linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.08); border-radius:16px; overflow:hidden}
    .media{position:relative; aspect-ratio:4/3; background:#0b0e14}
    .media img, .media video{width:100%; height:100%; object-fit:cover; display:block}
    .badge{position:absolute; top:10px; left:10px; padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700; letter-spacing:.3px; background:rgba(255,255,255,.1); backdrop-filter:blur(6px); border:1px solid rgba(255,255,255,.2)}
    .badge[data-status="disponible"]{background:orange; border-color:#cc8400; color:black}
    .badge[data-status="nfs"]{background:lightblue; border-color:#3399cc; color:black}


    .content{padding:14px 14px 16px}
    .title{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:6px}
    .title h3{margin:0; font-size:18px}
    .meta{display:flex; flex-wrap:wrap; gap:10px; color:var(--muted); font-size:13px}
    .meta span{display:inline-flex; align-items:center; gap:6px}
    .desc{margin:10px 0 12px; color:#cfd6e6; font-size:14px; line-height:1.5}
    .actions{display:flex; align-items:center; justify-content:space-between}
    .pill{padding:8px 12px; background:var(--card); border:1px solid rgba(255,255,255,.1); border-radius:999px; font-size:12px; color:var(--muted)}
    .msg{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); color:#091019; font-weight:700; border-radius:12px}

    /* Lightbox */
    .lightbox{position:fixed; inset:0; background:rgba(0,0,0,.8); display:none; align-items:center; justify-content:center; z-index:100}
    .lightbox.open{display:flex}
    .lightbox img, .lightbox video{max-width:90vw; max-height:85vh; border-radius:12px}

    footer{border-top:1px solid rgba(255,255,255,.06); color:var(--muted); padding:32px 0 48px}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="topbar">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <h1>Collection Th.Menu</h1>
        </div>
        <a class="cta" id="contactBtn" href="#" target="_blank" rel="noopener" aria-label="Me contacter sur Messenger">
          üí¨ Messenger
        </a>
      </div>
      <div class="toolbar" role="region" aria-label="Filtres de la galerie">
        <label class="tool" aria-label="Recherche"><input type="search" id="q" placeholder="Rechercher (nom, provenance, notes)‚Ä¶" /></label>
        <label class="tool" aria-label="Filtrer par min√©ral">
          <select id="mineralSelect">
            <option value="">Tous les min√©raux</option>
          </select>
        </label>
        <label class="tool" aria-label="Filtrer par provenance">
          <select id="provSelect">
            <option value="">Toutes provenances</option>
          </select>
        </label>
        <label class="tool" aria-label="Filtrer par statut">
          <select id="statusSelect">
            <option value="">Tous statuts</option>
            <option value="disponible">Disponible</option>
            <option value="nfs">Collection priv√©e</option>
          </select>
        </label>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section id="grid" class="grid" aria-live="polite">

      <!-- Exemple image -->
      <article class="card" tabindex="0"
        data-mineral="Quartz"
        data-provenance="La Gardette, France"
        data-status="nfs"
        data-dimensions="6√ó4√ó3 cm"
        data-keywords="aiguilles transparent cristallis√©"
      >
        <div class="media" data-type="image" data-src="https://images.unsplash.com/photo-1526318472351-c75fcf070305?auto=format&fit=crop&w=1200&q=60" aria-label="Photo du sp√©cimen">
          <span class="badge" data-status="nfs">Collection NFS</span>
          <img loading="lazy" alt="Quartz ‚Äì La Gardette (France)" src="https://images.unsplash.com/photo-1526318472351-c75fcf070305?auto=format&fit=crop&w=800&q=50" />
        </div>
        <div class="content">
          <div class="title">
            <h3>Quartz</h3>
            <span class="pill">6√ó4√ó3 cm</span>
          </div>
          <div class="meta">
            <span>üìç La Gardette, France</span>
            <span>üß™ Silicate</span>
          </div>
          <p class="desc">Cristaux √©lanc√©s et tr√®s brillants, groupe esth√©tique sur matrice.</p>
<!--           <div class="actions">
<!--             <span class="pill">#Quartz</span>
<!--             <a class="msg" href="#" data-msg="Quartz ‚Äì La Gardette">Me contacter</a>
<!--           </div>
        </div>
      </article>

      <!-- Exemple vid√©o -->
      <article class="card" tabindex="0"
        data-mineral="Quartz & Schorl"
        data-provenance="Erongo, Namibie"
        data-status="disponible"
        data-dimensions="7√ó4√ó5 cm"
        data-keywords="cristaux aciculaires tourmaline schorl √©pitaxie quartz"
      >
        <div class="media" data-type="video" data-src="assets/videos/Nam_Quartz_Schorl_001.mp4">
          <span class="badge" data-status="disponible">Disponible</span>
          <video preload="none" muted playsinline poster="assets/videos/Nam_Quartz_Schorl_001.jpg"></video>
        </div>
        <div class="content">
          <div class="title">
            <h3>Quartz & Schorl</h3>
            <span class="pill">7√ó4√ó5 cm</span>
          </div>
          <div class="meta">
            <span>üìç Erongo, Namibie</span>
            <span>üß™ Quartz, Schorl</span>
          </div>
          <p class="desc">Tour de cristaux aciculaires de tourmaline (schorl) sur quartz.</p>
          <div class="actions">
            <span class="pill">#Quartz #Schorl</span>
            <a class="msg" href="#" data-msg="Quartz & Schorl ‚Äì Erongo">Me contacter</a>
          </div>
        </div>
      </article>

    </section>
  </main>

  <footer class="wrap">
    <small>¬© <span id="year"></span> Contact via Facebook/Messenger.</small>
  </footer>

  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog" aria-label="Agrandissement m√©dia">
    <button class="cta" id="closeLb" style="position:absolute; top:24px; right:24px">Fermer</button>
    <div id="lbContent"></div>
  </div>

  <script>
    const MESSENGER_URL = "https://m.me/thierrym35";
    document.getElementById('contactBtn').href = MESSENGER_URL;

    const $ = (q, el=document) => el.querySelector(q);
    const $$ = (q, el=document) => Array.from(el.querySelectorAll(q));

    function populateFilters(){
      const minerals = new Set();
      const provs = new Set();
      $$('#grid .card').forEach(card=>{
        minerals.add(card.dataset.mineral);
        provs.add(card.dataset.provenance);
      });
      const mineralSelect = $('#mineralSelect');
      const provSelect = $('#provSelect');
      for(const m of [...minerals].sort()) mineralSelect.insertAdjacentHTML('beforeend', `<option value="${m}">${m}</option>`);
      for(const p of [...provs].sort()) provSelect.insertAdjacentHTML('beforeend', `<option value="${p}">${p}</option>`);
    }

    function filter(){
      const q = $('#q').value.toLowerCase().trim();
      const m = $('#mineralSelect').value;
      const p = $('#provSelect').value;
      const s = $('#statusSelect').value;
      let shown = 0;
      $$('#grid .card').forEach(card=>{
        const hay = [card.dataset.mineral, card.dataset.provenance, card.dataset.dimensions, card.dataset.keywords].join(' ').toLowerCase();
        const matchQ = !q || hay.includes(q);
        const matchM = !m || card.dataset.mineral === m;
        const matchP = !p || card.dataset.provenance === p;
        const matchS = !s || card.dataset.status === s;
        const ok = matchQ && matchM && matchP && matchS;
        card.style.display = ok ? '' : 'none';
        if(ok) shown++;
      });
      $('#grid').setAttribute('aria-busy', 'false');
      $('#grid').setAttribute('data-count', shown);
    }

    const lb = $('#lightbox');
    const lbContent = $('#lbContent');
    $('#closeLb').addEventListener('click', ()=> lb.classList.remove('open'));

    function openLightbox(mediaEl){
      lbContent.innerHTML = '';
      const type = mediaEl.dataset.type;
      if(type === 'video'){
        const v = document.createElement('video');
        v.controls = true;
        v.autoplay = true;
        v.muted = true;
        v.playsInline = true;
        v.src = mediaEl.dataset.src;
        lbContent.appendChild(v);
        v.addEventListener('loadeddata', () => {
          v.play().catch(()=>{});
        });
      } else {
        const img = document.createElement('img');
        const thumb = mediaEl.querySelector('img');
        img.src = thumb.getAttribute('src');
        img.alt = thumb.alt || '';
        lbContent.appendChild(img);
      }
      lb.classList.add('open');
    }

    function initMedia(){
      $$('.media').forEach(m=>{
        m.addEventListener('click', ()=> openLightbox(m));
      });
    }

    document.addEventListener('click', (e)=>{
      const a = e.target.closest('a.msg');
      if(!a) return;
      e.preventDefault();
      window.open(MESSENGER_URL, '_blank');
    });

    ['q','mineralSelect','provSelect','statusSelect'].forEach(id=>{
      document.getElementById(id).addEventListener('input', filter);
      document.getElementById(id).addEventListener('change', filter);
    });

    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') lb.classList.remove('open'); });

    document.getElementById('year').textContent = new Date().getFullYear();
    populateFilters();
    initMedia();
    filter();
  </script>
</body>
</html>

